
#BUILD_DIR := /Users/and/Downloads/Verpackungsplan/Verpackungsplan
#SRC_DIRS := /Users/and/workspace/Verpackungsplan/Verpackungsplan
# Find all the C and C++ files we want to compile
# Note the single quotes around the * expressions. The shell will incorrectly expand these otherwise, but we want to send the * directly to the find command.
#SOURCES := $(shell find $(SRC_DIRS) -name '*.cpp' -or -name '*.c' -or -name '*.s')



#files := main.cpp function.cpp
#some_file: $(files)
#echo "Look at this variable: " $(files)
#	touch some_file

DATE	 = ` date "+%Y.%m.%d	%H:%M:%S" `

# –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä C++ (clang –Ω–∞ macOS)
CXX = clang++



# –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ñ–ª–∞–≥–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
# -std=c++11: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç C++11
# -g: –≤–∫–ª—é—á–∏—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
# -Wall: –≤–∫–ª—é—á–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
#works CXXFLAGS = -std=c++20 -Wall -g
#CXXFLAGS = -Wall -Wpedantic -Wextra -fdiagnostics-color=always  -std=c++20 -g
#CXXFLAGS = -Wall -Wpedantic -std=c++20 -v
CXXFLAGS= -O2 -v -g -Wall -mmacosx-version-min=26.0.1 -fmessage-length=0

# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
#INCLUDE_DIRS = -I/–ø—É—Ç—å/–∫/–∑–∞–≥–æ–ª–æ–≤–∫–∞–º  -I /opt/homebrew/Cellar/opencv/4.12.0_11/include/opencv4
#works  INCLUDE_DIRS =  -I.
#INCLUDE_DIRS =  -I $(shell pwd)
INCLUDE_DIRS =  -I /opt/homebrew/Cellar/opencv/4.12.0_11/include/opencv4
#CPPFLAGS = -I/usr/local/Cellar/opencv/2.4.6.1/include


# –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫
#LIBRARY_DIRS = -L/–ø—É—Ç—å/–∫/–≤–∞—à–∏–º/–±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º -L/usr/local/lib
# works LIBRARY_DIRS = -L./libxl/lib
# LIBRARY_DIRS = -L $(shell pwd)/libxl/lib
# LIBRARY_DIRS = -L $(shell pwd)/
LIBRARY_DIRS = -L /opt/homebrew/Cellar/opencv/4.12.0_11/lib
# LDFLAGS = -L/usr/local/Cellar/opencv/2.4.6.1/lib


#g++ webcam_opencv.cpp -o webcam_demo
#-I/usr/include/opencv4



# –§–ª–∞–≥ -l —É–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å.
# –ù–∞–ø—Ä–∏–º–µ—Ä, -lmylib –ø–æ–¥–∫–ª—é—á–∞–µ—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É libmylib.a –∏–ª–∏ libmylib.dylib
# –ò–º–µ–Ω–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –ª–∏–Ω–∫–æ–≤–∫–∏ (–±–µ–∑ –ø—Ä–µ—Ñ–∏–∫—Å–∞ lib –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
# –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è libmylib.a –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ -lmylib
#LIBRARIES = -lmylib -lother_lib
# LIBRARIES = -lxl
# works LIBRARIES = -lopencv_core \
-lopencv_videoio \
-lopencv_highgui

LIBRARIES =  -lopencv_core \
	-lopencv_videoio \
	-lopencv_highgui \
	-lopencv_imgproc \
	-lopencv_calib3d \
	-lopencv_video \
	-lopencv_features2d \
	-lopencv_ml \
	-lopencv_objdetect #\-lopencv_gpu -lopencv_contrib -lopencv_legacy
#LDLIBS =  -lopencv_core -lopencv_imgproc -lopencv_calib3d -lopencv_video \





# –ò–º–µ–Ω–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, main.cpp, my_class.cpp)
# SOURCES = main.cpp functions.cpp settings.cpp statistics.cpp elements_selection.cpp write_Excel_file.cpp read_Excel_file.cpp
SOURCES = main.cpp


# –§–∞–π–ª—ã –æ–±—ä–µ–∫—Ç–æ–≤
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º–µ–Ω–∞ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑ –∏–º–µ–Ω –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
# –ù–∞–ø—Ä–∏–º–µ—Ä, main.cpp -> main.o, my_class.cpp -> my_class.o
OBJECTS = $(SOURCES:.cpp=.o)

# –ò–º—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω
EXECUTABLE = main

#.RECIPEPREFIX := :
	#	:@echo "recipe prefix symbol is set to '$(.RECIPEPREFIX)' "

# –ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏
.PHONY: all
# –¶–µ–ª—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Å–æ–∑–¥–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–π —Ñ–∞–π–ª (–ø–µ—Ä–≤–∞—è —Ü–µ–ª—å –≤ —Ñ–∞–π–ª–µ)
# –ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ 'make' –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, —ç—Ç–∞ —Ü–µ–ª—å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
all: $(EXECUTABLE)
	- @rm -f $(OBJECTS)
	@echo "\n"
	@echo "Clearing...üöø\n"
	@#${CXX} --version
	@echo "\n"
	- @#mv -f $(EXECUTABLE) ~/Downloads/Verpackungsplan
	@echo "\n"
	-@echo  $(DATE) "Completed...üíØ\n"
	@#- @echo "Completed...üíØ\n"


# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
$(EXECUTABLE): $(OBJECTS)
	#$(CXX) $(CXXFLAGS) $(OBJECTS) $(LIBRARY_DIRS) -o $(EXECUTABLE) $(LIBRARIES)
		$(CXX) $(CXXFLAGS) $(OBJECTS) $(LIBRARY_DIRS)  $(LIBRARIES) -o $(EXECUTABLE) 



main.o: main.cpp
	$(CXX) $(CXXFLAGS)  $(INCLUDE_DIRS)  -c $< -o $@   #  $(LIBRARY_DIRS)  $(LIBRARIES) 


# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ .cpp —Ñ–∞–π–ª–æ–≤ –≤ .o —Ñ–∞–π–ª—ã
# –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ —Ñ–∞–π–ª–∞ source.cpp, —Å–æ–∑–¥–∞–µ—Ç—Å—è —Ñ–∞–π–ª source.o
%.o: %.cpp
	$(CXX) $(CXXFLAGS) -c $< -o $@


# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ (—É–¥–∞–ª–µ–Ω–∏—è —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤)
# –ü—Ä–∏–º–µ—Ä: 'make clean'
clean:
	- @ rm -f $(OBJECTS) $(EXECUTABLE)
	- @ #rm -f ~/Downloads/Verpackungsplan/main ~/Downloads/Verpackungsplan/example.xls ~/Downloads/Verpackungsplan/OUT.rtf
	- @ echo "Clearing...üöø\n"
	
# –ü—Ä–∞–≤–∏–ª–æ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–≥–æ —Ñ–∞–π–ª–∞
# –ü—Ä–∏–º–µ—Ä: 'make run'
run: $(EXECUTABLE)
	./$(EXECUTABLE)








